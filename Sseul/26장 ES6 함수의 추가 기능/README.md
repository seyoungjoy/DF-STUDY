# 26. ES6 함수의 추가 기능

## 26.1 함수의 구분
```js
var foo = function () {
   return 1;
};

// 1.일반적인 함수로 호출
foo(); // 1

// 2.생성자 함수로 호출
new foo(); // foo {}

// 3.메서드로서 호출
var obj = { foo: foo };
obj.foo(); // 1
```

ES6 이전의 모든 함수는 **callable**이면서 **constructor**다.
사용 목적에 따른 구분이 없어서 호출 방식에 제약도 없고, 생성자 함수로 호출되지 않아도 프로토타입 객체를 형성하기에 **성능이 떨어진다.**
<br><br>
### ES6에서는 세가지로 나눔 
- 일반함수
- 메서드
- 화살표 함수
<br><br>

## 26.2 메서드
ES6 사양에서 메서드는 축약 표현으로 정의된 함수만을 의미한다.
인스턴스를 생성할 수 없는 non-construtor이다.
prototype 프로퍼티가 없으며 프로토타입 객체도 생성하지 않는다.
단, 자신을 바인딩한 객체를 가리키는 [[HomeObject]] 갖기 때문에 super 키워드를 사용할 수 있다.
```js
const obj = {
  x: 1,
  // foo는 ES6 기준, 메서드다.
  foo() {
    return this.x;
  },
  // bar는 ES6 기준, 메서드가 아니다.
  bar: function () {
    return this.x;
  },
};

console.log(obj.foo()); // 1
console.log(obj.bar()); // 1
```
<br><br>

## 26.3 화살표 함수

### 1. 화살표 함수 정의
- 화살표 함수는 함수 선언문으로 정의할 수 없고 함수 표현식으로 정의해야 한다.
- 매개변수가 한 개인 경우 소괄호 ()를 생략할 수 있다.
- 함수 몸체가 하나의 문으로 구성된다면 {}를 생략할 수 있다.
- 화살표 함수도 즉시 실행 함수로 사용할 수 있다.
<br>

### 2. 화살표 함수와 일반 함수의 차이
- 인스턴스 생성 불가능한 non-constructor로, prototype 프로퍼티가 없고, 프로토타입 객체도 생성하지 않는다.
- 중복된 매개변수 이름을 선언할 수 없다.
- 화살표 함수는 함수 자체의 this, arguments, super, new.target 바인딩을 갖지 않는다.
<br>

### 3. this ★★★
- 화살표 함수가 일반 함수와 구별되는 가장 큰 특징은 바로 this!!!
- this 바인딩은 함수의 호출 방식, 즉 함수가 어떻게 호출되었는지에 따라 동적으로 결정된다.
- 화살표 함수는 함수 자체의 this 바인딩을 갖지 않는다.
따라서 화살표 함수 내부에서 this를 참조하면 상위 스코프의 this를 그대로 참조한다. 이를 lexical this라 한다.
- 만약 화살표 함수와 화살표 함수가 중첩되어 있다면 상위 화살표 함수에도 this 바인딩이 없으므로 스코프 체인 상에서 가장 가까운 상위 함수 중에서 화살표 함수가 아닌 함수의 this를 참조한다.
- 전역 함수의 상위 스코프는 전역이고 전역에서 this는 전역 객체를 가리킨다.
- 프로퍼티에 할당한 화살표 함수도 스코프 체인 상에서 가장 가까운 함수 중에서 화살표 함수가 아닌 함수의 this를 참조한다.

### 4. super
- 상위 스코프인 constructor의 super 가리킨다.
<br>

### 5. arguments
- 상위 스코프의 arguments 참조한다.
- 가변 인자 함수 구현 할때 Rest 파라미터를 사용해야 한다.
<br><br>

## 26.4 Rest 파라미터
함수에 전달된 인수들의 목록을 배열로 전달받는다.
```js
function foo(param1, param2, ...rest) {
  console.log(param1);
  console.log(param2);
  console.log(rest);
}

foo(1,2,3,4,5);
```
일반 매개변수와 Rest 파라미터는 함께 사용할 수 있는데 이때 전달된 인수들은 매개변수와 Rest 파라미터에 순차적으로 할당된다. **Rest 파라미터는 반드시 마지막 파라미터이어야 한다.**
<br><br>

## 26.5 매개변수 기본값
```js
function sum(x=0, y=0){
return x+y;
}
console.log(sum(1,2));	//3
console.log(sum(1));	//1
```
함수의 매개변수는 undefined가 기본이다.
ES6에서 도입된 매개변수 기본값을 사용하면 함수 내에서 수행하던 인수 체크 및 초기화를 간소화할 수 있다.
Rest 파라미터에는 기본값을 지정할 수 없다.