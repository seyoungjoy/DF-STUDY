# 31. 정규표현식
정규 표현식은 특정 패턴과 일치하는 문자열을 검색하거나 추출 또는 치환할 수 있는 패턴 매칭 기능을 제공한다.
<br><br>

## 31.2 정규 표현식의 생성
정규표현식 객체를 생성하기 위해서 정규 표현식 리터럴과 RegExp 생성자 함수를 사용하지만 정규 표현식 리터럴 을 사용하는 것이 일반적이다.
```js 
/regexp/i
```
// : / 안에 패턴을 작성   
패턴 : 우리가 찾고자 하는 패턴   
플래그 : 어떤 옵션을 통해서 검색을 할 것인가?
<br><br>

## 31.3 RegExp 메서드

### RegExp.prototype.exec
- 매칭 결과를 배열로 반환한다.
- 매칭 결과가 없는 경우 null을 반환한다.
- g플래그를 지정해도 첫 번째 매칭 결과만 반환하므로 주의한다.
<br/>

### RegExp.prototype.test
- 정규 표현식의 패턴을 검색하여 매칭 결과를 boolean 값으로 반환한다.
```js
const target = 'Is this all there is?';
const regExp = /is/;

regExp.test(target); // -> true
```
<br/>

### String.prototype.match
- match 메서드는 매칭결과를 배열로 반환한다.
- exec 메서드랑 다르게, g플래그를 지정하면 모든 매칭 결과를 배열로 반환한다.
```js
const target = 'Is this all there is?';
const regExp = /is/;
regExp.exec(target);
regExp.test(target);
target.match(regExp); 
// exec, test 는 문자열을 인수로 받지만, match는 정규표현식을 인수로 받는다.
```
<br/><br/>

## 31.4 플래그
정규 표현식의 검색 방식을 설정하기 위해 사용한다.

1. i (ignore case) : 대소문자를 구별하지 않고 패턴을 검색한다.
2. g (global) : 대상 문자열 내에서 패턴과 일치하는 모든 문자열을 전역 검색한다.
3. m (multi line) : 문자열의 행이 바뀌터라도 패턴 검색을 계속한다.

많이쓰는것은 /g, /m   
플래그 순서 상관없이 쓰면 되고, 옵션이니 쓰지 않다도 된다.
<br/><br/>

## 31.5 패턴
- 패턴은 / 로 열고 닫으며 문자열의 따옴표는 생략한다. 따옴표를 포함하면 따옴표까지도 패턴에 포함되어 검색된다.
- 패턴은 특별한 의미를 가지는 메타문자 또는 기호로 표현할 수 있다.
- 어떤 문자열 내에 패턴과 일치하는 문자열이 존재할 때 '정규 표현식과 매치한다'고 표현한다.

### 문자열 검색
정규표현식의 패턴에 문자 또는 문자열을 지정하면 검색 대상 문자열에서 패턴으로 지정한 문자열을 RegExp 메서드(exec, test, match)를 사용하여 검색한다.
<br/>


### 임의의 문자열 검색
. 은 임의의 문자 한 개를 의미한다.(공백 포함) 문자의 내용은 무엇이든 상관없다.   
.을 3개 연속하여 패턴을 생성했으므로 문자의 내용과 상관없이 3자리 문자열과 매치한다.
```js
const target = 'Is this all there is?';

// 임의의 3자리 문자열을 대소문자를 구별하여 전역 검색한다.
const regExp = /.../g;

target.match(regExp); // -> ["Is ", "thi", "s a", "ll ", "the", "re ", "is?"]
```
<br/>

### 반복검색
 - {m,n}은 앞선 패턴이 최소 m 번, 최대 n 번 반복되는 문자열을 의미한다. 콤마 뒤에 공백이 있으면 정상 작동하지 않으므로 주의한다.
 - {n}은 앞선 패턴이 n번 반복되는 문자열을 의미하며 {n, n}과 같다.
 - {n,}은 앞선 패턴이 최소n번 이상 반복되는 문자열을 의미한다.
 - +는 앞선 패턴이 최소 한번 이상 반복되는 문자열을 의미하며 {1,}과 같다.
 - ?는 앞선 패턴이 최대 한 번(0번 포함) 이상 반복되는 문자열을 의미하며 {0,1}과 같다.

```js
const target = 'A AA B BB Aa Bb AAA';

const regExp = /A{1,2}/g; //{m,n}
target.match(regExp); // -> ["AA", "AA"]

const regExp = /A{2,}/g; // {n}
target.match(regExp); // -> ["AA", "AAA"]

const regExp = /A{2,}/g; // {n,}
target.match(regExp); // -> ["AA", "AAA"]

const regExp = /A+/g; // +
target.match(regExp); // -> ["A", "AA", "A", "AAA"]

const target = 'color colour';
const regExp = /colou?r/g; // ?
target.match(regExp); // -> ["color", "colour"]
```
<br/>

### OR 검색
- ```|```는 or의 의미를 갖는다. ```/A|B/``` 하면 'A' 또는 'B'를 의미한다.
- ```[]```를 이용하면 더 간단하게 표현이 가능한데, 그 이유는 []내의 문자는 or로 동작하기 때문이다. ```/[AB]/```를 하면, 'A', 'B'가 매치된다.
- 범위를 지정하려면 [] 내에 -를 사용한다. ```/A-Z/```를 하면, 'A',...,'Z'가 매치된다.
- ```\d```는 숫자를 의미한다. ( <-> \D는 숫자가 아닌 문자다.) 즉, \d는 ```[0-9]```와 같다.
- ```\w```는 알파벳, 숫자, 언더스코어(_)를 의미하며 ```[A-Za-z0-9_]```와 같다.(1개의 문자로 취급, 공백이나 다른 특수문자는 제외)
<br/>

### NOT 검색
```[...]``` 내의 ^은 not의 의미를 갖는다.
```[^0-9]``` 는 숫자를 제외한 문자를 의미하며 ```\D``` 와 같다.
```[^A-Za-z0-9]```는 ```\W```와 같다.
<br>

### 시작 위치로 검색
```[...]``` 밖의 ^은 문자열의 시작을 의미한다.
```js 
const regExp = /^https/; // 'https'로 시작하는지 검사한다.
```
<br/>

### 마지막 위치로 검색
```[$]```는 문자열의 마지막을 의미한다.
```js 
const regExp = /com$/; // 'com'으로 끝나는지 검사한다.
```
<br/><br/>

## 31.6 자주 사용하는 정규표현식

### 특정 단어로 시작하는지 혹은 끝나는지 검사
```js
//'http:// ' 또는 'https:// '로 시작하는지 검사한다.
/^https?:\/\//.test(url);
// 'html로 끝나는지 검사한다.
/html$/.test(url);
```
<br/>

### 숫자로만 이루어진 문자열인지 검사
```js
//처음과 끝에도 숫자여야한다. 그리고 여러 개가 와도 상관없도록 한다.
/^\d+$/.test(target);
```
<br/>

### 하나 이상의 공백으로 시작하는 검사
```js
//\s는 여러가지 공백문자(스페이스, 탭 등)을 의미한다.
/^\s+/.test(target);
```
<br/>

### 아이디로 사용 가능한지 검사
```js
//알파벳 대소문자또는 숫자로 시작하고 끝나며 4~10자리인지 검사한다.
/^[A-Za-z0-9]{4,10}$/.test(id);
```
<br/>

### 메일 주소 형식에 맞는지 검사
```js
//숫자영문 -,_, @ . 두세글자의 도메인포함 검사한다.
/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(email);
```
<br/>

### 핸드폰 번호 형식에 맞는지 검사
```js
/^\d{3}-\d{3,4}-\d{4}$/.test(cellphone);
```
<br/>

### 특수 문자 포함 여부 검사
```js
//특수문자는 A-Za-z0-9 이외의 문자다.
/[^A-Za-z0-9]gi/.test(target);

//특수문자를 제거할 때에는 String.prototype.replace메서드를 사용한다.
target.replace([^A-Za-z0-9]gi, '');
```